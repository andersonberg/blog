<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <title>Como Criar um Blog de Forma Simples e Rápida com Django | Anderson Berg</title>

  <meta name="author" content="Anderson Berg">
  <meta name="description" content="">
  <meta name="robots" content="">

  <meta property="og:site_name" content="Anderson Berg">
  <meta property="og:type" content="website">



  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" type="image/x-icon" href="./favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="Anderson Berg &raquo; Feed" href="/">
  <link rel="canonical" href="">

    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" crossorigin="anonymous">
      <link rel="stylesheet" href="./theme/css/styles.min.css?0830b1e2">
</head>
<body>
  <div class="Page pure-g is-fullEntry">
<div class="PageHeader pure-u-1">
    <nav class="pure-menu pure-menu-open pure-menu-horizontal">

        <a
			href="./index.html"
            title="Home page"
            class="PageHeader-link pure-menu-heading pure-menu-link">Anderson<span class="u-highlighted">Berg</a>

			<ul class="PageHeader-menu pure-menu-list">
                    <li class="pure-menu-item">
                        <a href="./pages/contato.html" class="PageHeader-menu-link pure-menu-link">Contato</a>
                    </li>

			</ul>
    </nav>
</div>
    <div class="PageContent pure-u-1">


<article class="Article u-box" itemscope="" itemtype="http://schema.org/BlogPosting">
    <span itemprop="mainEntityOfPage">
        <header>
            <h1 class="Article-title" itemprop="headline name">
                Como Criar um Blog de Forma Simples e Rápida com Django
            </h1>

                <p class="Article-meta">
                    Por <span class="Article-author" itemprop="author">Anderson Berg</span>.

                    <span class="Article-pubDate">
                        Publicado em
                        <time datetime="2014-12-28T01:11:22-03:00" itemprop="datePublished">28 Dec, 2014</time>
                    </span>
                </p>
        </header>

        <div class="Article-content" itemprop="articleBody">
<img
        src="images/blog_on.jpg"
        alt="None"
        class="representative-image"
        width="180"
        height="180" />
                <p>Você quer criar um blog pra espalhar suas ideias na rede?</p>
<p>Quer fazer isso em <strong>poucos passos</strong> usando <strong>Django</strong>?</p>
<p>Nas últimas semanas fizemos algumas mudanças no Pythonize e agora o blog está totalmente em <strong>Django</strong>! Já era uma coisa que eu planejava fazer, afinal um blog que fala sobre Python é bom que seja feito com Python.</p>
<p>Neste post vou contar um pouco como foi a experiência de criar um blog em Django usando o <strong>Mezzanine</strong>, um CMS muito poderoso que já vem com um admin pronto para blogs.</p>
<p><strong>Continue lendo este artigo</strong> para aprender, com detalhes, como instalar o Mezzanine, criar um projeto, configurar e aplicar um tema. No final, ainda vou dar uma dica bônus.</p>
<p>Também fizemos a migração do servidor para o <a href="https://www.digitalocean.com/?refcode=c831ddc18699">DigitalOcean</a>. Se você ainda não tem um servidor, recomendo o DigitalOcean e clicando <a href="https://www.digitalocean.com/?refcode=c831ddc18699">neste link</a> para fazer o cadastro, você ajuda a pagar uma parte da conta do Pythonize :)</p>
<h2>Instalando o Mezzanine</h2>
<p>O Mezzanine vem com diversas features bem úteis como integração com <strong>Analytics</strong>, <strong>Disqus</strong> e <strong>Gravatar</strong>. A lista completa você pode ver em: http://mezzanine.jupo.org/docs/overview.html#features</p>
<p>A instalação do Mezzanine é bem simples, vamos começar criando um ambiente virtual.</p>
<h3>Criando um ambiente virtual</h3>
<p>Antes de tudo é sempre recomendável instalar o virtualenv, pra não poluir o seu ambiente. O virtualenv é uma ferramenta que cria um ambiente Python separado do seu sistema, evitando maiores dores de cabeça com configurações.</p>
<p>Para criar um ambiente virtual é bem simples, basta passar o comando virtualenv seguido do diretório onde vai ser armazenado o ambiente, por exemplo:</p>
<div class="highlight"><pre><span></span><code>$ virtualenv venv
</code></pre></div>


<p>No Windows você precisa fazer:</p>
<div class="highlight"><pre><span></span><code><span class="err">&gt; \path\to\env\Scripts\activate</span>
</code></pre></div>


<h3>Instalando o Mezzanine e as dependências</h3>
<p>Com o ambiente virtual ativado, você pode usar o pip para instalar o Mezzanine e todas as dependências necessárias:</p>
<div class="highlight"><pre><span></span><code>$ pip install mezzanine
</code></pre></div>


<p>Pronto, o pip se encarrega de instalar todas as dependências e o próprio Mezzanine. No final, você já estará pronto para criar seu primeiro projeto com o Mezzanine.</p>
<h2>Usando o Mezzanine</h2>
<p>O Mezzanine funciona de uma forma muito parecida do Django. Para criar um novo projeto Mezzanine, faça de forma semelhante a criar um projeto Django:</p>
<div class="highlight"><pre><span></span><code>$ mezzanine-project meu_blog
</code></pre></div>


<p>Simples né?
Agora o Mezzanine já criou toda a estrutura do projeto, igualzinho como o Django faz:</p>
<h3>Criando um banco de dados</h3>
<p>O Mezzanine vem com algumas ferramentas além das que já conhecemos do Django. Para criar e iniciar um banco de dados basta você rodar o seguinte comando:</p>
<div class="highlight"><pre><span></span><code><span class="err">python manage.py createdb</span>
</code></pre></div>


<p>Quando você rodar este comando vão aparecer algumas perguntas que você pode responder facilmente.</p>
<h3>Editando as configurações</h3>
<p>Agora, antes de começar a testar é hora de você mexer nas configurações da sua aplicação. Abra o arquivo settings.py na raiz do seu projeto e procure a seguinte linha:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">ALLOWED_HOSTS</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div>
</td></tr></table>

<p>E troque pelo seguinte:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">ALLOWED_HOSTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;.example.com&#39;</span><span class="p">,</span> <span class="c1"># Allow domain and subdomains</span>
    <span class="s1">&#39;.example.com.&#39;</span><span class="p">,</span> <span class="c1"># Also allow FQDN and subdomains</span>
<span class="p">]</span>
</code></pre></div>
</td></tr></table>

<p>Esta é uma lista de strings que representam os hosts e domínios que seu site Django pode servir. Lembre-se de trocas 'example.com' pelo nome do seu domínio.</p>
<p>Busque também pela linha:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">TIME_ZONE</span> <span class="o">=</span>
</code></pre></div>
</td></tr></table>

<p>E substitua pelo seu fuso horário, por exemplo:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">TIME_ZONE</span> <span class="o">=</span> <span class="s1">&#39;America/Recife&#39;</span>
</code></pre></div>
</td></tr></table>

<h3>Testando seu site</h3>
<p>Para ver como está o seu blog até agora, execute o seguinte na linha de comando (com o ambiente virtual ativado):</p>
<div class="highlight"><pre><span></span><code><span class="err">python manage.py runserver</span>
</code></pre></div>


<p>Você pode ver seu site acessando o endereço http://127.0.0.1:8000/ no seu browser. Para terminar o servidor, pressione CTRL+C.</p>
<h3>Escreva novos artigos</h3>
<p>Você tem acesso à tela de administração indo até: http://127.0.0.1:8000/admin/ e digitando usuário e senha que você criou quando executou o comando para criação do banco de dados.</p>
<p>Lá você terá acesso ao dashboard do Mezzanine, onde é possível escrever artigos, gerenciar arquivos de mídia, criar novas páginas pro site e outras coisas.</p>
<h3>Aplicando um tema</h3>
<p>Um site não é nada sem um bom layout. Até agora, só cuidamos do back-end do blog, precisamos então dar uma cara pra ele.</p>
<p>O Mezzanine já tem temas prontos para serem usados e que se integram à ferramenta, todos baseados no bootstrap. Você pode optar por <a href="http://thecodinghouse.in/themes/">temas gratuitos</a> ou <a href="http://mezzathe.me/">temas premium pagos</a>.</p>
<p>Escolha um dos temas gratuitos e faça o download. O tema é um app Django, então basta copiar dentro do projeto Mezzanine e adicionar ao INSTALLED_APPS no arquivo settings.py. É recomendável que seja o primeiro app na lista.</p>
<p>Pronto, seu blog está totalmente configurado e com um belo template, agora é só criar conteúdo para seus leitores.</p>
<h2>Bônus: Como migrar seu site Wordpress para Mezzanine</h2>
<p>Com o Mezzanine é possível importar artigos de outras plataformas de blog como Wordpress e Blogger.</p>
<p>Para fazer a importação dos seus artigos do Wordpress, primeiro é preciso instalar o <a href="https://code.google.com/p/feedparser/">feedparser</a>, que pode ser instalar via pip.</p>
<div class="highlight"><pre><span></span><code><span class="err">pip install feedparser</span>
</code></pre></div>


<p>Faça login no seu blog Wordpress e vá em Ferramentas -&gt; Exportar. Nesta tela você pode configurar alguns filtros e realizar a exportação do arquivo. Lembre-se de guardar o caminho onde o arquivo foi baixado.</p>
<p>O comando pra importar os artigos do Wordpress só funciona com o Python 2. Quando criar o ambiente virtual é importante informar ao virtualenv qual é a versão do Python que você deseja utilizar, por exemplo, no Linux:</p>
<div class="highlight"><pre><span></span><code><span class="err">virtualenv -p /usr/bin/python2.7 venv</span>
</code></pre></div>


<p>Por último, simplesmente execute o comando import_wordpress, passando o seu usuário no mezzanine e o caminho onde está o arquivo no argumento 'url':</p>
<div class="highlight"><pre><span></span><code><span class="n">python</span><span class="w"> </span><span class="n">manage</span><span class="p">.</span><span class="n">py</span><span class="w"> </span><span class="n">import_wordpress</span><span class="w"> </span><span class="c1">--mezzanine-user=.. --url=[caminho_do_arquivo]</span>
</code></pre></div>


<h3>Concluindo</h3>
<p>Foi muito gratificante finalmente conseguir migrar o Pythonize pra Django. E o Mezzanine facilitou bastante esse trabalho. Agora é muito mais fácil pra mim gerenciar o site e fazer modificações, pois está tudo em Python e não em PHP como no Wordpress.</p>
<p>Consegui integrar com todas as ferramentas que utilizava antes no Wordpress, principalmente Analytics e Disqus, tudo foi muito simples.</p>
<p>Agora tenho uma pergunta para você</p>
<p>O que você achou de trabalhar com Django e Mezzanine para criar um blog?</p>
<p>Deixe seu comentário logo abaixo!</p>
<p>Imagem por: <a href="http://www.flickr.com/photos/futureshape/4977096245/">futureshape</a></p>
        </div>
    </span>


            <div class="Article-tags">
                <span class="Article-tagLabel">Tags:</span>
                <span itemprop="keywords">
                        <a
                            href="./tag/django.html"
                            title="Leia mais sobre"
                            class="Article-tagLink">django</a>
                        <a
                            href="./tag/blog.html"
                            title="Leia mais sobre"
                            class="Article-tagLink">blog</a>
                        <a
                            href="./tag/mezzanine.html"
                            title="Leia mais sobre"
                            class="Article-tagLink">mezzanine</a>
                </span>
            </div>

        <div class="Article-comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = "pythonize.org";
        var disqus_identifier = "como-criar-um-blog-com-django.html";

        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
        </div>
</article>
    </div>

<footer class="PageFooter pure-u-1">
    <div class="u-box">
        <p>O conteúdo deste blog está sob a licença
          <a
              class="PageFooter-link"
              href=""
              title=""
              rel="nofollow"></a>.</p>

        <p>O código está disponível em
          <a
              class="PageFooter-link"
              href=""
              title="Contribute!"
              rel="nofollow"></a>.</p>
    </div>
</footer>  </div>

    <script>
        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src='//www.google-analytics.com/analytics.js';
        r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
        ga('create','UA-25538784-1');ga('send','pageview');
    </script>
</body>
</html>