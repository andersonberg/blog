{"componentChunkName":"component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js","path":"/criar-parsers-html-beautifulsoup/","result":{"data":{"site":{"siteMetadata":{"title":"Anderson Berg","social":[{"name":"twitter","url":"https://twitter.com/berg_pe"},{"name":"github","url":"https://github.com/andersonberg"}]}},"blogPost":{"__typename":"MdxBlogPost","id":"cdad9aa9-8d42-57ce-b30f-361dc54166ea","excerpt":"Neste post você vai aprender como criar um parser pra recuperar\ninformações de páginas HTML utilizando o BeautifulSoup. O BeautifulSoup\npode…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Como criar parsers HTML com BeautifulSoup\",\n  \"date\": \"2011-12-31T15:45:19.000Z\",\n  \"tags\": [\"parser\", \"html\"],\n  \"category\": \"Web\",\n  \"slug\": \"criar-parsers-html-beautifulsoup\",\n  \"summary\": \"Neste post você vai aprender como criar um parser pra recuperar informações de páginas HTML utilizando o BeautifulSoup. O BeautifulSoup pode ser usado para arquivos HTML ou XML, com ele fica muito simples navegar e buscar textos em páginas HTML. Uma grande vantagem da BeautifulSoup é que ela consegue criar uma estrutura mesmo com páginas html mal formatadas, facilitando o trabalho do programador.\",\n  \"image\": \"images/beautifulsoup.jpg\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Neste post voc\\xEA vai aprender como criar um parser\\xA0pra recuperar\\ninforma\\xE7\\xF5es de p\\xE1ginas HTML utilizando o BeautifulSoup. O BeautifulSoup\\npode ser usado para arquivos HTML ou XML, com ele fica muito simples\\nnavegar e buscar textos em p\\xE1ginas HTML. Uma grande vantagem da\\nBeautifulSoup \\xE9 que ela consegue criar uma estrutura mesmo com p\\xE1ginas\\nhtml mal formatadas, facilitando o trabalho do programador.\"), mdx(\"h2\", {\n    \"id\": \"instalando-o-beautifulsoup\"\n  }, \"Instalando\\xA0o BeautifulSoup\"), mdx(\"p\", null, \"Voc\\xEA pode fazer a instala\\xE7\\xE3o via \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"pip\"), \" ou \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"easy\", \"_\", \"install\"), \". Tamb\\xE9m est\\xE3o\\ndispon\\xEDveis pacotes em diferentes distribui\\xE7\\xF5es Linux.\"), mdx(\"p\", null, \"Inicie o interpretador Python para testar os c\\xF3digos que vamos\\napresentar a seguir.\"), mdx(\"p\", null, \"Para processar p\\xE1ginas HTML, importe o BeautifulSoup da seguinte forma:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"from BeautifulSoup import BeautifulSoup\\n\")), mdx(\"p\", null, \"Se voc\\xEA for processar arquivos XML:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"from BeautifulSoup import BeautifulStoneSoup\\n\")), mdx(\"p\", null, \"Voc\\xEA pode tamb\\xE9m consultar a documenta\\xE7\\xE3o do BeautifulSoup\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.crummy.com/software/BeautifulSoup/bs4/doc/\",\n    \"title\": \"BeautifulSoup\"\n  }), \"aqui\"), \".\"), mdx(\"h2\", {\n    \"id\": \"criando-o-parser\"\n  }, \"Criando o parser\"), mdx(\"p\", null, \"Por enquanto vamos processar apenas p\\xE1ginas html. Vamos usar a biblioteca urllib2 para recuperar uma p\\xE1gina html.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"import urllib2\\npagina = urllib2.urlopen(\\\"http://www.globo.com\\\").read()\\n\")), mdx(\"p\", null, \"Isso vai criar uma string com todo o c\\xF3digo html da p\\xE1gina. Ent\\xE3o, para criar o parser basta:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"soup = BeautifulSoup(pagina)\\n\")), mdx(\"p\", null, \"\\xC9 poss\\xEDvel transformar esse objeto BeautifulSoup em string com o m\\xE9todo\\nprettify, que manipula o c\\xF3digo bruto adicionando quebra de linha e\\nespa\\xE7amento recriando a estrutura do c\\xF3digo html.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"soup.prettify()\\n\")), mdx(\"p\", null, \"Para listar todos os links da p\\xE1gina recuperada, usamos o m\\xE9todo\\nfindAll:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"links = soup.findAll('a')\\n\")), mdx(\"p\", null, \"Neste c\\xF3digo, \\u2019\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"links\"), \"\\u2019 \\xE9 uma lista contendo objetos do tipo Tag da\\nbiblioteca BeautifulSoup (class BeautifulSoup.Tag). Vamos agora, listar\\nsomente os links (tirando qualquer texto ou marca\\xE7\\xE3o) que est\\xE3o nesses\\nobjetos Tag:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"for link in links:\\n    print link['href']\\n\")), mdx(\"p\", null, \"Para recuperar somente uma \\xE1rea da p\\xE1gina, \\xE9 poss\\xEDvel usar o m\\xE9todo find\\ncom o par\\xE2metro id, por exemplo:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"colunas = soup.find(id=\\\"glb-area-colunas\\\")\\nlinkscol = colunas.findAll('a')\\nfor link in linkscol:\\n    print link['href']\\n\")), mdx(\"p\", null, \"A biblioteca BeautifulSoup facilita muito na hora de criar parsers e\\ncrawlers para p\\xE1ginas html ou xml. Usada junto com o urllib2 s\\xE3o\\npoderosos aliados na recupera\\xE7\\xE3o de informa\\xE7\\xE3o na web.\"));\n}\n;\nMDXContent.isMDXComponent = true;","slug":"/criar-parsers-html-beautifulsoup/","title":"Como criar parsers HTML com BeautifulSoup","tags":["parser","html"],"date":"December 31, 2011","image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAYABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHqQnNOuzly0E1Bf//EABwQAAICAgMAAAAAAAAAAAAAAAECAxEAEhMhIv/aAAgBAQABBQJpPfKyshtV7V7JiY6mIk6jEFD/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAeEAACAgICAwAAAAAAAAAAAAAAAQIRITEQEkFCkf/aAAgBAQAGPwLqhpoTJS838FezEbRL1zZl64//xAAbEAACAwEBAQAAAAAAAAAAAAABEQAhMUFhcf/aAAgBAQABPyHu2N5CbawxeT1yHZljv6gHaAGRjhXca4wTerRMrjaxkYPpc//aAAwDAQACAAMAAAAQbMBC/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHhABAQACAgIDAAAAAAAAAAAAAREAIWFxMVGBkfD/2gAIAQEAAT8QdVA0C9NzHQi/t6Nnw/eIyRGzAj1Vu0LQ9TWQIRprTZydZXpZCS+9PNyhCaoLxefONqgR5+Qn5wRJFNmeenP/2Q==","aspectRatio":0.8389261744966443,"src":"/static/c6ff7b8dff28b2bf3c4fe4c6945dbf3a/8f7df/beautifulsoup.jpg","srcSet":"/static/c6ff7b8dff28b2bf3c4fe4c6945dbf3a/8f7df/beautifulsoup.jpg 250w","sizes":"(max-width: 250px) 100vw, 250px"}}},"imageAlt":null,"imageCaptionText":null,"imageCaptionLink":null,"socialImage":null},"previous":{"__typename":"MdxBlogPost","id":"fcaf4102-56f6-5c05-8e00-dff57c10f25c","excerpt":"Esta semana tive a oportunidade de ministrar uma palestra para os alunos da Farec (Faculdade do Recife) falando sobre o Python, incluindo…","slug":"/palestra-canivete-suico-python/","title":"Palestra sobre canivete suíço de Python","date":"December 04, 2011"},"next":{"__typename":"MdxBlogPost","id":"2cdb80ef-d156-58ba-b783-e646a4112a41","excerpt":"Qual programador não procura um ambiente de desenvolvimento que seja  simples ,  amigável  e  funcional ? Muitos acabam voltando ao bloco de…","slug":"/dicas-simples-vim-ide-python/","title":"6 dicas simples para o Vim ser uma IDE perfeita pra Python","date":"January 10, 2012"}},"pageContext":{"id":"cdad9aa9-8d42-57ce-b30f-361dc54166ea","previousId":"fcaf4102-56f6-5c05-8e00-dff57c10f25c","nextId":"2cdb80ef-d156-58ba-b783-e646a4112a41","maxWidth":1380}},"staticQueryHashes":["2744905544","3090755652","386998304","764694655"]}