<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Pythonize - Tutorial, Programação</title><link href="http://pythonize.org/" rel="alternate"></link><link href="http://pythonize.org/feeds/tutorial-programacao.atom.xml" rel="self"></link><id>http://pythonize.org/</id><updated>2011-09-14T19:58:12-03:00</updated><entry><title>Transformando seu Código Python em Executável com o py2exe</title><link href="http://pythonize.org/seu-codigo-python-executavel-py2exe.html" rel="alternate"></link><published>2011-09-14T19:58:12-03:00</published><updated>2011-09-14T19:58:12-03:00</updated><author><name>Anderson Berg</name></author><id>tag:pythonize.org,2011-09-14:/seu-codigo-python-executavel-py2exe.html</id><summary type="html">&lt;p&gt;Em diversas situações é necessário criar um arquivo executável a partir do seu código.&lt;/p&gt;</summary><content type="html">&lt;p&gt;Em diversas situa&amp;ccedil;&amp;otilde;es &amp;eacute; necess&amp;aacute;rio criar um arquivo execut&amp;aacute;vel a partir do seu c&amp;oacute;digo. &lt;/p&gt;
&lt;p&gt;&amp;Agrave;s vezes &amp;eacute; preciso entregar um programa a um cliente que n&amp;atilde;o tem Python instalado ou n&amp;atilde;o tem as diversas bibliotecas que voc&amp;ecirc; usou pra criar sua aplica&amp;ccedil;&amp;atilde;o. Ou at&amp;eacute; mesmo no caso de voc&amp;ecirc; querer usar o seu programa em qualquer outra m&amp;aacute;quina Windows sem precisar da instala&amp;ccedil;&amp;atilde;o do Python.&lt;span&gt;&lt;/p&gt;
&lt;p&gt;Neste post vamos fazer um tutorial sobre como fazer isso utilizando o &lt;/span&gt;&lt;a href="http://www.py2exe.org"&gt;py2exe&lt;/a&gt;&lt;span&gt;.&lt;/span&gt;&lt;/p&gt;&lt;/p&gt;
&lt;h3&gt;INSTALA&amp;Ccedil;&amp;Atilde;O DO PY2EXE&lt;/h3&gt;

&lt;p&gt;O primeiro passo &amp;eacute; instalar o py2exe. Pra isso basta ir ao &lt;a href="http://sourceforge.net/projects/py2exe/files/"&gt;site&lt;/a&gt;&amp;nbsp;e baixar a &amp;uacute;ltima vers&amp;atilde;o. Baixe a vers&amp;atilde;o para o seu Windows (32 ou 64 bits) e de acordo com a vers&amp;atilde;o do python (2.5, 2.6, 2.7...). &amp;nbsp;&lt;/p&gt;
&lt;p&gt;A instala&amp;ccedil;&amp;atilde;o &amp;eacute; simples e padr&amp;atilde;o. Ap&amp;oacute;s a instala&amp;ccedil;&amp;atilde;o adicione a pasta de scripts ao PATH do sistema, geralmente C:\Python27\Scripts.&lt;/p&gt;
&lt;h3&gt;TUTORIAL&lt;/h3&gt;

&lt;p&gt;Primeiro vamos escrever um c&amp;oacute;digo qualquer em Python. Voc&amp;ecirc; pode escrever um c&amp;oacute;digo importando qualquer pacote, desde que este esteja instalado no seu sistema. &lt;/p&gt;
&lt;p&gt;Para este exemplo voc&amp;ecirc; pode escrever seu pr&amp;oacute;prio c&amp;oacute;digo, eu vou dar um simples exemplo utilizando a biblioteca matem&amp;aacute;tica do Python, crie um arquivo em qualquer pasta chamado calc.py e escreva o seguinte c&amp;oacute;digo:&lt;/p&gt;&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;math&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;modelo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;raw_input&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;quot&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;Digite&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="n"&gt;para&lt;/span&gt; &lt;span class="n"&gt;seno&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;para&lt;/span&gt; &lt;span class="n"&gt;cosseno&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;quot&lt;/span&gt;&lt;span class="p"&gt;;)&lt;/span&gt;
    &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;raw_input&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;quot&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;Entre&lt;/span&gt; &lt;span class="n"&gt;com&lt;/span&gt; &lt;span class="n"&gt;um&lt;/span&gt; &lt;span class="n"&gt;número&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;quot&lt;/span&gt;&lt;span class="p"&gt;;)&lt;/span&gt;
    &lt;span class="n"&gt;choice&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;modelo&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;choice&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;math&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;choice&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;math&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;p&gt;Teste o seu c&amp;oacute;digo:&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;C:\Pythonize&amp;gt; python calc.py
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;O segundo passo &amp;eacute; criar um script de setup. Crie um arquivo chamado setup_calc.py na mesma pasta que voc&amp;ecirc; salvou o c&amp;oacute;digo anterior e escreva este c&amp;oacute;digo:&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;distutils.core&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;setup&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;py2exe&lt;/span&gt;
&lt;span class="n"&gt;setup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;console&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;calc.py&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;p&gt;Pronto, para criar seu arquivo execut&amp;aacute;vel, rode seu script:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;C:\Pythonize&amp;gt;python setup_calc.py py2exe
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ser&amp;atilde;o criadas duas pastas: build e dist. &lt;/p&gt;
&lt;p&gt;A pasta build &amp;eacute; usada somente para compilar o c&amp;oacute;digo e criar o execut&amp;aacute;vel e pode ser exclu&amp;iacute;da ap&amp;oacute;s o t&amp;eacute;rmino do processo. A pasta dist cont&amp;eacute;m os arquivos necess&amp;aacute;rios para rodar sua aplica&amp;ccedil;&amp;atilde;o. &lt;/p&gt;
&lt;p&gt;Agora voc&amp;ecirc; pode testar seu execut&amp;aacute;vel:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;C:\Pythonize&amp;gt;cd dist
C:\Pythonize\dist&amp;gt;calc.exe
Digite 1 para seno e 2 para cosseno: 1

Entre com um número: 4

-0.756802495308
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Funcionando muito bem!&lt;/p&gt;
&lt;p&gt;Se voc&amp;ecirc; quer distribuir seu programa e levar para outro computador Windows, &amp;eacute; preciso levar toda a pasta dist para que sua aplica&amp;ccedil;&amp;atilde;o funcione corretamente. Para outras informa&amp;ccedil;&amp;otilde;es, veja o &lt;a href="http://www.py2exe.org/index.cgi/Tutorial"&gt;tutorial do py2exe&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Para utilizar o py2exe com outros pacotes e m&amp;oacute;dulos, veja o link:&amp;nbsp;&lt;a href="http://www.py2exe.org/index.cgi/WorkingWithVariousPackagesAndModules"&gt;Working with Various Packages and Modules&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;</content><category term="executavel"></category><category term="py2exe"></category></entry></feed>